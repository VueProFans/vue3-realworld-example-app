import{r as e,A as a,B as n,C as o,D as l,a as t,s as i,E as s}from"./index.efddc1f7.js";function u({username:i,following:s,onUpdate:u}){const{active:r,run:c}=l((async function(){let l;l=s.value?await async function(l){const t=await e.checkableDelete(`/profiles/${l}/follow`),i=a(t);return i.isOk()?n(i.value.profile):o(i.value)}(i.value):await async function(l){const t=await e.checkablePost(`/profiles/${l}/follow`),i=a(t);return i.isOk()?n(i.value.profile):o(i.value)}(i.value),l.isOk()?u(l.value):await t("login")}));return{followProcessGoing:r,toggleFollow:c}}function r({username:a}){const n=i(null);function o(e){n.value=e}return s(a,(async function(){o(null),o(await function(a){return e.get("/profiles/"+a).then((e=>e.profile))}(a.value))}),{immediate:!0}),{profile:n,updateProfile:o}}export{r as a,u};
